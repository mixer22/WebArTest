<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–¶–µ–ø—å –ø–∏—Ç–∞–Ω–∏—è</title>
  <style>
    body {
      margin: 0;
      height: 100dvh;
      overflow: hidden;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: #e5e7eb;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 12px;                /* –±—ã–ª–æ 20px */
      box-sizing: border-box;
    }
    h1 {
      margin: 12px 0 20px;          /* –±—ã–ª–æ 20px 0 30px */
      font-size: clamp(1.7rem, 4.8vw, 2.2rem);
      text-shadow: 0 0 20px #60a5fa88;
      text-align: center;
    }
   
    .footer {
      margin-top: 16px;             /* –±—ã–ª–æ 28px */
      font-size: 12px;
      opacity: 0.65;
    }
   
    .container {
      background: rgba(15, 23, 42, 0.75);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(96,165,250,0.3);
      border-radius: 24px;
      padding: 20px;                /* –±—ã–ª–æ 30px */
      width: 100%;
      max-width: 600px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.6);
      position: relative;
      overflow: hidden;
    }
    .target-chain {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;                    /* –±—ã–ª–æ 16px */
      min-height: 110px;
      padding: 16px;                /* –±—ã–ª–æ 20px */
      border: 2px dashed rgba(96,165,250,0.4);
      border-radius: 16px;
      margin-bottom: 20px;          /* –±—ã–ª–æ 30px */
      background: rgba(30,41,59,0.3);
    }
    .slot {
      width: 90px;                  /* –±—ã–ª–æ 110px */
      height: 90px;                 /* –±—ã–ª–æ 110px */
      border: 2px solid rgba(96,165,250,0.3);
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(15,23,42,0.5);
      transition: all 0.3s ease;
      position: relative;
    }
    .slot.filled {
      border-color: #60a5fa;
      background: rgba(96,165,250,0.12);
      box-shadow: 0 0 20px rgba(96,165,250,0.3);
    }
    .slot::after {
      content: attr(data-order);
      position: absolute;
      top: -10px;
      right: -10px;
      background: #1e293b;
      color: #94a3b8;
      font-size: 0.8rem;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #475569;
    }
    .components {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;                    /* –±—ã–ª–æ 16px */
      margin-bottom: 24px;          /* –±—ã–ª–æ 40px */
    }
    .component {
      width: 82px;                  /* –±—ã–ª–æ 100px */
      height: 82px;                 /* –±—ã–ª–æ 100px */
      background: rgba(30,41,59,0.6);
      border-radius: 14px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: grab;
      user-select: none;
      transition: all 0.25s ease;
      box-shadow: 0 6px 16px rgba(0,0,0,0.4);
      font-size: 1.9rem;            /* –±—ã–ª–æ 2.2rem */
      touch-action: manipulation;
    }
    .component:active {
      cursor: grabbing;
      transform: scale(1.08);
      box-shadow: 0 12px 30px rgba(96,165,250,0.4);
    }
    .component-name {
      font-size: 0.75rem;           /* –±—ã–ª–æ 0.9rem */
      margin-top: 4px;              /* –±—ã–ª–æ 8px */
      color: #94a3b8;
      text-align: center;
      line-height: 1.1;
    }
    .success-line {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, transparent, #34d399, #10b981, #34d399, transparent);
      transform: translateY(-50%);
      opacity: 0;
      transition: opacity 1.5s;
      box-shadow: 0 0 30px #34d399;
      pointer-events: none;
    }
    .success-line.active {
      opacity: 0.8;
      animation: flow 3s linear infinite;
    }
    @keyframes flow {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
    .answer {
      margin-top: 20px;             /* –±—ã–ª–æ 40px */
      font-size: 2.6rem;            /* –±—ã–ª–æ 3.5rem ‚Äî —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ */
      font-weight: 900;
      color: #34d399;
      text-shadow: 0 0 40px #34d399, 0 0 80px #059669;
      opacity: 0;
      transform: translateY(30px);
      transition: all 1.5s ease;
      line-height: 1;
    }
    .answer.show {
      opacity: 1;
      transform: translateY(0);
      animation: pulseText 2.5s ease-in-out infinite alternate;
    }
    @keyframes pulseText {
      0% { text-shadow: 0 0 30px #34d399; }
      100% { text-shadow: 0 0 60px #34d399, 0 0 100px #059669; }
    }
  </style>
</head>
<body>
<h1>–ü—Ä–æ–≤–µ–¥–∏ –ø–∏—Ç–∞–Ω–∏–µ –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∫ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—é (–º–∏–Ω–∏–º—É–º –Ω—É–∂–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤).</h1>
<div class="container">
  <div class="target-chain" id="targetChain">
    <div class="slot" data-order="1" data-expected="panel"></div>
    <div class="slot" data-order="2" data-expected="battery"></div>
    <div class="slot" data-order="3" data-expected="inverter"></div>
    <div class="slot" data-order="4" data-expected="pred"></div>
    <div class="slot" data-order="5" data-expected="load"></div>
  </div>
  <div class="success-line" id="successLine"></div>
  <div class="components" id="components">
    <div class="component" draggable="true" data-type="load">
      <span>üè†</span>
      <div class="component-name">–ë—ã—Ç–æ–≤—ã–µ –ø—Ä–∏–±–æ—Ä—ã</div>
    </div>
    <div class="component" draggable="true" data-type="battery">
      <span>üîã</span>
      <div class="component-name">–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä</div>
    </div>
    <div class="component" draggable="true" data-type="inverter">
      <span>‚ö°</span>
      <div class="component-name">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–∫–∞</div>
    </div>
    <div class="component" draggable="true" data-type="panel">
      <span>‚òÄÔ∏è</span>
      <div class="component-name">–°–æ–ª–Ω–µ—á–Ω–∞—è –ø–∞–Ω–µ–ª—å</div>
    </div>
    <div class="component" draggable="true" data-type="pred">
      <span>üîå</span>
      <div class="component-name">–ü—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å</div>
    </div>
    <div class="component" draggable="true" data-type="counter">
      <span>üìä</span>
      <div class="component-name">–°—á—ë—Ç—á–∏–∫</div>
    </div>
  </div>
  <div class="answer" id="answer">–¶–ï–ü–¨</div>
  <div class="footer">¬∑ –†–û–ë–û–°–ò–ë ¬∑ 2026</div>
</div>

<script>
  // —Å–∫—Ä–∏–ø—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  const components = document.querySelectorAll('.component');
  const slots = document.querySelectorAll('.slot');
  const successLine = document.getElementById('successLine');
  const answer = document.getElementById('answer');
  const correctOrder = ['panel', 'battery', 'inverter', 'pred', 'load'];
  
  components.forEach(comp => {
    comp.addEventListener('dragstart', e => {
      e.dataTransfer.setData('text/plain', comp.dataset.type);
      comp.style.opacity = '0.6';
    });
    comp.addEventListener('dragend', () => {
      comp.style.opacity = '1';
    });
  });
  
  slots.forEach(slot => {
    slot.addEventListener('dragover', e => {
      e.preventDefault();
      slot.style.background = 'rgba(96,165,250,0.2)';
    });
    slot.addEventListener('dragleave', () => {
      slot.style.background = 'rgba(15,23,42,0.5)';
    });
    slot.addEventListener('drop', e => {
      e.preventDefault();
      const type = e.dataTransfer.getData('text/plain');
      const existing = slot.querySelector('.component');
      if (existing) {
        document.getElementById('components').appendChild(existing);
      }
      const dragged = document.querySelector(`[data-type="${type}"]`);
      slot.innerHTML = '';
      slot.appendChild(dragged);
      slot.style.background = 'rgba(15,23,42,0.5)';
      dragged.style.opacity = '1';
      checkChain();
    });
  });
  
  function checkChain() {
    const filledSlots = Array.from(slots).map(slot => {
      const comp = slot.querySelector('.component');
      return comp ? comp.dataset.type : null;
    });
    const isCorrect = filledSlots.every((type, i) => type === correctOrder[i]);
    if (isCorrect) {
      successLine.classList.add('active');
      answer.classList.add('show');
    } else {
      successLine.classList.remove('active');
    }
  }
</script>
</body>
</html>
