<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–¶–µ–ø—å –ø–∏—Ç–∞–Ω–∏—è</title>
  <style>
    body {
      margin: 0;
      height: 100dvh;
      overflow: hidden;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: #e5e7eb;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
    }

    h1 {
      margin: 20px 0 30px;
      font-size: clamp(1.8rem, 5vw, 2.4rem);
      text-shadow: 0 0 20px #60a5fa88;
      text-align: center;
    }
    
    .footer {
      margin-top: 28px;
      font-size: 13px;
      opacity: 0.65;
    }
    
    .container {
      background: rgba(15, 23, 42, 0.75);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(96,165,250,0.3);
      border-radius: 24px;
      padding: 30px;
      width: 100%;
      max-width: 600px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.6);
      position: relative;
      overflow: hidden;
    }

    .target-chain {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 16px;
      min-height: 140px;
      padding: 20px;
      border: 2px dashed rgba(96,165,250,0.4);
      border-radius: 16px;
      margin-bottom: 30px;
      background: rgba(30,41,59,0.3);
    }

    .slot {
      width: 110px;
      height: 110px;
      border: 2px solid rgba(96,165,250,0.3);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(15,23,42,0.5);
      transition: all 0.3s ease;
      position: relative;
    }

    .slot.filled {
      border-color: #60a5fa;
      background: rgba(96,165,250,0.12);
      box-shadow: 0 0 20px rgba(96,165,250,0.3);
    }

    .slot::after {
      content: attr(data-order);
      position: absolute;
      top: -12px;
      right: -12px;
      background: #1e293b;
      color: #94a3b8;
      font-size: 0.9rem;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #475569;
    }

    .components {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 16px;
      margin-bottom: 40px;
    }

    .component {
      width: 100px;
      height: 100px;
      background: rgba(30,41,59,0.6);
      border-radius: 16px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: grab;
      user-select: none;
      transition: all 0.25s ease;
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
      font-size: 2.2rem;
    }

    .component:active {
      cursor: grabbing;
      transform: scale(1.08);
      box-shadow: 0 12px 30px rgba(96,165,250,0.4);
    }

    .component-name {
      font-size: 0.9rem;
      margin-top: 8px;
      color: #94a3b8;
      text-align: center;
    }

    .success-line {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, transparent, #34d399, #10b981, #34d399, transparent);
      transform: translateY(-50%);
      opacity: 0;
      transition: opacity 1.5s;
      box-shadow: 0 0 30px #34d399;
      pointer-events: none;
    }

    .success-line.active {
      opacity: 0.8;
      animation: flow 3s linear infinite;
    }

    @keyframes flow {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    .answer {
      margin-top: 40px;
      font-size: 3.5rem;
      font-weight: 900;
      color: #34d399;
      text-shadow: 0 0 40px #34d399, 0 0 80px #059669;
      opacity: 0;
      transform: translateY(40px);
      transition: all 1.5s ease;
    }

    .answer.show {
      opacity: 1;
      transform: translateY(0);
      animation: pulseText 2.5s ease-in-out infinite alternate;
    }

    @keyframes pulseText {
      0% { text-shadow: 0 0 30px #34d399; }
      100% { text-shadow: 0 0 60px #34d399, 0 0 100px #059669; }
    }
  </style>
</head>
<body>

<h1>–°–æ–±–µ—Ä–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—á—É—é —Ü–µ–ø—å –ø–∏—Ç–∞–Ω–∏—è</h1>

<div class="container">
  <div class="target-chain" id="targetChain">
    <div class="slot" data-order="1" data-expected="panel"></div>
    <div class="slot" data-order="2" data-expected="controller"></div>
    <div class="slot" data-order="3" data-expected="battery"></div>
    <div class="slot" data-order="4" data-expected="inverter"></div>
    <div class="slot" data-order="5" data-expected="load"></div>
  </div>

  <div class="success-line" id="successLine"></div>

  <div class="components" id="components">
    <div class="component" draggable="true" data-type="load">
      <span>üè†</span>
      <div class="component-name">–ë—ã—Ç–æ–≤—ã–µ –ø—Ä–∏–±–æ—Ä—ã</div>
    </div>
    <div class="component" draggable="true" data-type="battery">
      <span>üîã</span>
      <div class="component-name">–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä</div>
    </div>
    <div class="component" draggable="true" data-type="inverter">
      <span>‚ö°</span>
      <div class="component-name">–ò–Ω–≤–µ—Ä—Ç–æ—Ä (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å)</div>
    </div>
    <div class="component" draggable="true" data-type="controller">
      <span>üéõÔ∏è</span>
      <div class="component-name">–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–∞—Ä—è–¥–∞</div>
    </div>
    <div class="component" draggable="true" data-type="panel">
      <span>‚òÄÔ∏è</span>
      <div class="component-name">–°–æ–ª–Ω–µ—á–Ω–∞—è –ø–∞–Ω–µ–ª—å</div>
    </div>
    <div class="component" draggable="true" data-type="pred">
      <span>üîå</span>
      <div class="component-name">–ü—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å</div>
    </div>
    <div class="component" draggable="true" data-type="pred">
      <span>üìä</span>
      <div class="component-name">–°—á—ë—Ç—á–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏</div>
    </div>
  </div>

  <div class="answer" id="answer">–¶–ï–ü–¨</div>
  <div class="footer">¬∑ –†–û–ë–û–°–ò–ë ¬∑ 2026</div>
</div>

<script>
  const components = document.querySelectorAll('.component');
  const slots = document.querySelectorAll('.slot');
  const successLine = document.getElementById('successLine');
  const answer = document.getElementById('answer');

  // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Ç–∏–ø–æ–≤
  const correctOrder = ['panel', 'controller', 'battery', 'inverter', 'load'];

  components.forEach(comp => {
    comp.addEventListener('dragstart', e => {
      e.dataTransfer.setData('text/plain', comp.dataset.type);
      comp.style.opacity = '0.6';
    });

    comp.addEventListener('dragend', () => {
      comp.style.opacity = '1';
    });
  });

  slots.forEach(slot => {
    slot.addEventListener('dragover', e => {
      e.preventDefault();
      slot.style.background = 'rgba(96,165,250,0.2)';
    });

    slot.addEventListener('dragleave', () => {
      slot.style.background = 'rgba(15,23,42,0.5)';
    });

    slot.addEventListener('drop', e => {
      e.preventDefault();
      const type = e.dataTransfer.getData('text/plain');
      const existing = slot.querySelector('.component');

      if (existing) {
        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞—Ä—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ –æ–±—â–∏–π –ø—É–ª
        document.getElementById('components').appendChild(existing);
      }

      const dragged = document.querySelector(`[data-type="${type}"]`);
      slot.innerHTML = '';
      slot.appendChild(dragged);
      slot.style.background = 'rgba(15,23,42,0.5)';
      dragged.style.opacity = '1';

      checkChain();
    });
  });

  function checkChain() {
    const filledSlots = Array.from(slots).map(slot => {
      const comp = slot.querySelector('.component');
      return comp ? comp.dataset.type : null;
    });

    const isCorrect = filledSlots.every((type, i) => type === correctOrder[i]);

    if (isCorrect) {
      successLine.classList.add('active');
      answer.classList.add('show');
    } else {
      successLine.classList.remove('active');
    }
  }
</script>
</body>
</html>
